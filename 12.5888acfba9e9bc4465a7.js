(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{idrH:function(n,e,a){"use strict";a.r(e),a.d(e,"BrandModule",function(){return B});var t=a("iInd"),i=a("ofXK"),r=a("q5vz"),o=a("fXoL"),c=a("WRNG"),s=a("R2Cy"),l=a("haRT"),b=a("WJhm"),d=a("66zS"),u=a("phDe"),m=a("px0D"),z=a("s7LF"),p=a("GaVp"),h=a("Jp/u"),f=a("+CSB"),g=a("nYR2"),T=a("JXeA"),v=a("NFMk"),S=a("wf2+"),O=a("tYkK"),y=a("jTf7");function C(n,e){if(1&n&&o.Pb(0,"nz-option",8),2&n){const n=e.$implicit;o.mc("nzLabel",n)("nzValue",n)}}function P(n,e){if(1&n){const n=o.Vb();o.Pb(0,"nz-divider"),o.Ub(1,"div",9),o.Pb(2,"input",10,11),o.Ub(4,"a",12),o.bc("click",function(){o.wc(n);const e=o.uc(3);return o.fc(2).addItem(e)}),o.Pb(5,"i",13),o.Jc(6," Add item"),o.Tb(),o.Tb()}}function A(n,e){if(1&n&&(o.Sb(0),o.Ub(1,"form",2),o.Ub(2,"nz-form-item"),o.Ub(3,"nz-form-label",3),o.Jc(4,"Select Brand"),o.Tb(),o.Ub(5,"nz-form-control",4),o.Ub(6,"nz-select",5),o.Hc(7,C,1,2,"nz-option",6),o.Tb(),o.Hc(8,P,7,0,"ng-template",null,7,o.Ic),o.Tb(),o.Tb(),o.Tb(),o.Rb()),2&n){const n=o.uc(9),e=o.fc();o.Ab(1),o.mc("formGroup",e.baseForm),o.Ab(2),o.mc("nzSpan",6),o.Ab(2),o.mc("nzSpan",14),o.Ab(1),o.mc("nzDropdownRender",n)("nzLoading",e.isLoadingBrandInSelect),o.Ab(1),o.mc("ngForOf",e.brands)}}let w=(()=>{class n extends f.a{constructor(n,e,a){super(e),this.formBuilder=n,this.brandService=e,this.messageService=a,this.isVisible=!1,this.modalTitle="ADD BRAND",this.cancelModalEvent=new o.n,this.okModalEvent=new o.n,this.brands=[],this.isLoadingBrandInSelect=!1}ngOnInit(){this.buildForm(),this.getBrandAllStore()}ngOnChanges(n){null!=n.sizeObject&&null!=n.sizeObject.currentValue&&(this.baseForm.controls.sizeName.setValue(n.sizeObject.currentValue.sizeName),this.modalTitle="Edit brand")}addItem(n){-1===this.brands.indexOf(n.value)&&n.value&&(this.brands=[...this.brands,n.value],n.value=null)}getBrandAllStore(){this.isLoadingBrandInSelect=!0,this.brandService.getBrandAllStore().pipe(Object(g.a)(()=>this.isLoadingBrandInSelect=!1)).subscribe(n=>{"OK"===n.code&&(this.brands=n.data.map(n=>n.brandName).sort((n,e)=>n.localeCompare(e)))})}buildForm(){this.baseForm=this.formBuilder.group({brandName:[null,[z.r.required]]})}submitForm(){super.create(this.baseForm.value,this.okModalEvent,this.messageService),this.getBrandAllStore()}handleCancel(){super.cancel(this.cancelModalEvent)}}return n.\u0275fac=function(e){return new(e||n)(o.Ob(z.e),o.Ob(c.a),o.Ob(T.b))},n.\u0275cmp=o.Ib({type:n,selectors:[["app-brand-modal"]],inputs:{isVisible:"isVisible",modalTitle:"modalTitle",brandObject:"brandObject"},outputs:{cancelModalEvent:"cancelModalEvent",okModalEvent:"okModalEvent"},features:[o.xb,o.yb],decls:2,vars:5,consts:[["nzOkText","OK","nzClassName","form-modal",3,"nzVisible","nzTitle","nzClosable","nzOkDisabled","nzOkLoading","nzVisibleChange","nzOnCancel","nzOnOk"],[4,"nzModalContent"],["nz-form","",3,"formGroup"],["nzFor","sizeName",3,"nzSpan"],["nzErrorTip","Please input your brand name!",3,"nzSpan"],["formControlName","brandName","nzShowSearch","","nzAllowClear","","nzPlaceHolder","Select a Brand",3,"nzDropdownRender","nzLoading"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["renderTemplate",""],[3,"nzLabel","nzValue"],[1,"input-container"],["type","text","nz-input",""],["inputElement",""],[1,"add-item",3,"click"],["nz-icon","","nzType","plus"]],template:function(n,e){1&n&&(o.Ub(0,"nz-modal",0),o.bc("nzVisibleChange",function(n){return e.isVisible=n})("nzOnCancel",function(){return e.handleCancel()})("nzOnOk",function(){return e.submitForm()}),o.Hc(1,A,10,6,"ng-container",1),o.Tb()),2&n&&o.mc("nzVisible",e.isVisible)("nzTitle",e.modalTitle)("nzClosable",!1)("nzOkDisabled",e.baseForm.invalid)("nzOkLoading",e.isLoadingButton)},directives:[v.a,v.b,z.s,z.n,S.b,z.h,O.c,S.c,O.a,S.d,S.a,y.b,z.m,z.g,i.n,y.a,m.a,b.a,d.a],styles:[".ant-row[_ngcontent-%COMP%]{margin:0}"]}),n})();var V=a("SHEi");function U(n,e){if(1&n){const n=o.Vb();o.Ub(0,"div",13),o.Ub(1,"app-brand-modal",14),o.bc("cancelModalEvent",function(e){return o.wc(n),o.fc().closeModal(e)})("okModalEvent",function(e){return o.wc(n),o.fc().closeModal(e)}),o.Tb(),o.Ub(2,"button",15),o.bc("click",function(){return o.wc(n),o.fc().showModal()}),o.Pb(3,"i",16),o.Tb(),o.Tb()}if(2&n){const n=o.fc();o.Ab(1),o.mc("brandObject",n.selectedData)("isVisible",n.isShowModal)}}const M=function(n,e){return{odd:n,even:e}};function k(n,e){if(1&n){const n=o.Vb();o.Ub(0,"tr",17),o.Ub(1,"td",4),o.Jc(2),o.Tb(),o.Ub(3,"td",4),o.Jc(4),o.Tb(),o.Ub(5,"td",18),o.Ub(6,"button",19),o.bc("nzOnConfirm",function(){o.wc(n);const a=e.$implicit;return o.fc().delete(a.id)}),o.Jc(7,"Delete"),o.Pb(8,"i",20),o.Tb(),o.Tb(),o.Tb()}if(2&n){const n=e.$implicit,a=e.odd,t=e.even,i=e.index,r=o.fc();o.mc("ngClass",o.qc(3,M,a,t)),o.Ab(2),o.Kc(i+1+(r.baseParams.pageIndex-1)*r.baseParams.pageSize),o.Ab(2),o.Kc(n.brandName)}}const F=[{path:"",component:(()=>{class n extends r.a{constructor(n,e){super(n),this.brandService=n,this.utilitiesService=e,this.onQueryParamsChange=n=>{this.baseParams.filters=[{key:"brandName",value:this.searchValue}],super.onQueryParamsChangeFromParent(n)}}ngOnInit(){this.isAdmin="Admin"===this.utilitiesService.getRole()}searchByName(){this.baseParams.filters=[{key:"brandName",value:this.searchValue}],super.search()}}return n.\u0275fac=function(e){return new(e||n)(o.Ob(c.a),o.Ob(s.a))},n.\u0275cmp=o.Ib({type:n,selectors:[["app-brand-list"]],features:[o.xb],decls:22,vars:13,consts:[["class","table-operations",4,"ngIf"],["nzBordered","","nzTableLayout","fixed",3,"nzFrontPagination","nzTotal","nzPageSize","nzPageIndex","nzLoading","nzData","nzQueryParams"],["sortTable",""],["nzAlign","center","nzColumnKey","id",3,"nzSortFn"],["nzAlign","center"],[3,"nzVisible","nzActive","nzDropdownMenu","nzVisibleChange"],["nz-icon","","nzType","search"],[3,"ngClass",4,"ngFor","ngForOf"],["menu","nzDropdownMenu"],[1,"ant-table-filter-dropdown"],[1,"search-box"],["type","text","nz-input","","placeholder","Search name",3,"ngModel","ngModelChange"],["nz-button","","nzSize","small","nzType","primary",1,"search-button",3,"click"],[1,"table-operations"],[3,"brandObject","isVisible","cancelModalEvent","okModalEvent"],["nzType","primary","nz-button","",1,"add-btn",3,"click"],["nz-icon","","nzType","plus","nzTheme","outline"],[3,"ngClass"],["nzAlign","center",1,"btn-action"],["nz-button","","nzType","primary","nzPopconfirmOverlayClassName","delete-confirm-card","nz-popconfirm","","nzPopconfirmTitle","Are you sure delete this brand?","nzPopconfirmPlacement","left","nzDanger","",3,"nzOnConfirm"],["nz-icon","","nzType","delete","nzTheme","outline"]],template:function(n,e){if(1&n&&(o.Hc(0,U,4,2,"div",0),o.Ub(1,"nz-table",1,2),o.bc("nzQueryParams",function(n){return e.onQueryParamsChange(n)}),o.Ub(3,"thead"),o.Ub(4,"tr"),o.Ub(5,"th",3),o.Jc(6,"Id"),o.Tb(),o.Ub(7,"th",4),o.Jc(8,"Brand Name "),o.Ub(9,"nz-filter-trigger",5),o.bc("nzVisibleChange",function(n){return e.isShowSearchInput=n}),o.Pb(10,"i",6),o.Tb(),o.Tb(),o.Ub(11,"th",4),o.Jc(12,"Action"),o.Tb(),o.Tb(),o.Tb(),o.Ub(13,"tbody"),o.Hc(14,k,9,6,"tr",7),o.Tb(),o.Tb(),o.Ub(15,"nz-dropdown-menu",null,8),o.Ub(17,"div",9),o.Ub(18,"div",10),o.Ub(19,"input",11),o.bc("ngModelChange",function(n){return e.searchValue=n}),o.Tb(),o.Ub(20,"button",12),o.bc("click",function(){return e.searchByName()}),o.Jc(21," Search "),o.Tb(),o.Tb(),o.Tb(),o.Tb()),2&n){const n=o.uc(2),a=o.uc(16);o.mc("ngIf",!e.isAdmin),o.Ab(1),o.mc("nzFrontPagination",!1)("nzTotal",e.total)("nzPageSize",e.baseParams.pageSize)("nzPageIndex",e.baseParams.pageIndex)("nzLoading",e.isLoading)("nzData",e.listData),o.Ab(4),o.mc("nzSortFn",!0),o.Ab(4),o.mc("nzVisible",e.isShowSearchInput)("nzActive",e.searchValue.length>0)("nzDropdownMenu",a),o.Ab(5),o.mc("ngForOf",n.data),o.Ab(5),o.mc("ngModel",e.searchValue)}},directives:[i.o,l.d,l.i,l.j,l.c,l.h,l.a,l.g,l.b,b.a,d.a,l.f,i.n,u.c,m.a,z.d,z.m,z.o,p.a,h.a,w,i.m,V.a],styles:[""]}),n})()}];var I=a("PCNd");let B=(()=>{class n{}return n.\u0275mod=o.Mb({type:n}),n.\u0275inj=o.Lb({factory:function(e){return new(e||n)},imports:[[i.c,I.a,t.f.forChild(F)]]}),n})()}}]);